# Ch1 入门

## 包

1. 名为**main**的包比较特殊，它用来定义一个独立的可执行程序，而不是库。

2. 在main包中，main函数总是程序开始执行的地方。

3. import 声明必须跟在package声明之后。

4. go语言不需要在语句或声明后使用分号。实际上，**跟在特定符号后的换行符**会被转换成分号。

5. 在一个包声明前，使用注释对其进行描述。

   ```go
   // echo1 输出命令行参数
   package main
   ```

## 变量

1. 变量可以在声明的时候初始化。如果变量没有明确的初始化，它将隐含地初始化为这个类型的空值。
   1. 数字 --> 初始化为0
   2. 字符串 --> 空字符串""

2. ```i++```与```i--```是语句而不是表达式，所以`j = i++`是非法的，并且只支持后缀，所以`--i`也是不合法的。

   <font color=red>TODO 语句与表达式的区别</font>

3. 变量声明

   函数内部变量使用**短变量声明**

   ```go
   s := "abc"
   ```

   包级别变量使用普通声明

   ```go
   var s string		// 隐式初始化
   var s string = "hello"		// 显式初始化
   ```

   使用显式的初始化来说明初始化变量的重要性，

   使用隐式的初始化老表明初始化变量不重要。

## 基本数据类型

### 字符串

1. `s += sep + arg`其中`+=`语句会生成新的字符串，然后把新的字符串赋值给s，旧的内容不在需要使用，会被垃圾回收。

   如果有大量数据需要处理，代价会比较大。可以使用**strings**包中的**Join**函数

   ```go
   s = strings.Join(s, sep)
   ```

### Map

1. map的key 可以是能够进行相等（==）比较的任意类型
2. 访问在map中不存在key是没问题的，右边表达式根据**map的值类型**推演0值
3. map的key的迭代顺序不是固定的，通常是随机的，每次运行都不一致。这是有意设计的，防止程序依赖某种特定的序列，此处不对排序做任何保证

### Printf函数的转义字符（verb）

| verb       | 描述                                         |
| ---------- | -------------------------------------------- |
| %d         | 十进制整数                                   |
| %x，%o，%b | 十六进制，八进制，二进制整数                 |
| %f，%g，%e | 单精度浮点数，双精度浮点数，科学计数法浮点数 |
| %t         | 布尔型：true/false                           |
| %c         | 字符（Unicode码点）                          |
| %s         | 字符串                                       |
| %q         | 带引号字符串（"abc"或者'a'）                 |
| %v         | 内置格式的任何值                             |
| %T         | 任何值的**类型**                             |
| %%         | 百分号本身                                   |

## 函数

函数的调用可以出现在声明之前。函数与其他包级别的实体可以以任意次序声明。

### 函数字面量

```go
http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
    handleer(w)
})
```

func定义一个匿名函数。

<font color=red>TODO 定义与声明的区别</font>

## const

const声明可以出现在包级别或者函数内

常量必须是数字，字符串，布尔值。

